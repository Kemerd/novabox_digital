<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Redirecting...</title>
  <script>
    // Single Page Apps for GitHub Pages
    // Redirects to the root with the current path as a query parameter
    (function() {
      const path = window.location.pathname;
      const queryParams = window.location.search;
      const hashFragment = window.location.hash;
      
      // Create the redirect URL - Keep the redirect path simple with just 'p' parameter
      let redirectUrl = window.location.origin + '/?p=' + path;
      
      // Add any existing query parameters and hash fragment
      if (queryParams && queryParams.length > 1) {
        redirectUrl += '&' + queryParams.substring(1);
      }
      
      if (hashFragment) {
        redirectUrl += hashFragment;
      }
      
      // Perform the redirect
      window.location.replace(redirectUrl);
    })();
  </script>
</head>
<body>
  <h1>Redirecting...</h1>
  <p>If you are not redirected automatically, please click <a href="/">here</a>.</p>
</body>
</html> 